{"remainingRequest":"C:\\Users\\hulina\\Desktop\\vue\\supermall\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\hulina\\Desktop\\vue\\supermall\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\hulina\\Desktop\\vue\\supermall\\src\\store\\actions.js","dependencies":[{"path":"C:\\Users\\hulina\\Desktop\\vue\\supermall\\src\\store\\actions.js","mtime":1579416160769},{"path":"C:\\Users\\hulina\\Desktop\\vue\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hulina\\Desktop\\vue\\supermall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\hulina\\Desktop\\vue\\supermall\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgeyBBRERfQ09VTlRFUiwgQUREX1RPX0NBUlQgfSBmcm9tICcuL211dGF0aW9uVHlwZXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgYWRkQ2FydDogZnVuY3Rpb24gYWRkQ2FydChjb250ZXh0LCBwYXlsb2FkKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgLyogbGV0IG9sZFByb2R1Y3QgPSBudWxsIA0KICAgICAgICDmlrnms5XkuIDvvJoNCiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBzdGF0ZS5jYXJ0TGlzdCkgew0KICAgICAgICAgIGlmIChpdGVtLmlpZCA9PT0gcGF5bG9hZC5paWQpIHsNCiAgICAgICAgICAgIG9sZFByb2R1Y3QgPSBpdGVtDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIOaWueazleS6jO+8mg0KICAgICAgICBsZXQgaW5kZXggPSBzdGF0ZS5jYXJ0TGlzdC5pbmRleE9mKHBheWxvYWQpDQogICAgICAgIOaWueazleS4ie+8miovCiAgICAgIHZhciBvbGRQcm9kdWN0ID0gY29udGV4dC5zdGF0ZS5jYXJ0TGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWlkID09PSBwYXlsb2FkLmlpZDsKICAgICAgfSk7CgogICAgICBpZiAob2xkUHJvZHVjdCkgewogICAgICAgIC8v5pa55rOV5LqMCiAgICAgICAgLy8gbGV0IG9sZFByb2R1Y3QgPSBzdGF0ZS5jYXJ0TGlzdFtpbmRleF0KICAgICAgICBjb250ZXh0LmNvbW1pdChBRERfQ09VTlRFUiwgb2xkUHJvZHVjdCk7CiAgICAgICAgcmVzb2x2ZSgn5re75Yqg5ZWG5ZOB5pWw6YePKzEnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXlsb2FkLmNvdW50ID0gMTsgLy8gc3RhdGUuY2FydExpc3QucHVzaChwYWxvYWQpCgogICAgICAgIGNvbnRleHQuY29tbWl0KEFERF9UT19DQVJULCBwYXlsb2FkKTsKICAgICAgICByZXNvbHZlKCfmt7vliqDkuobmlrDnmoTllYblk4EnKTsKICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["C:/Users/hulina/Desktop/vue/supermall/src/store/actions.js"],"names":["ADD_COUNTER","ADD_TO_CART","addCart","context","payload","Promise","resolve","oldProduct","state","cartList","find","item","iid","commit","count"],"mappings":";;AAAA,SAAQA,WAAR,EAAqBC,WAArB,QAAuC,iBAAvC;AAEA,eAAe;AACbC,EAAAA,OADa,mBACJC,OADI,EACKC,OADL,EACc;AACzB,WAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC9B;;;;;;;;;;AAUE,UAAIC,UAAU,GAAGJ,OAAO,CAACK,KAAR,CAAcC,QAAd,CAAuBC,IAAvB,CAA4B,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,GAAL,KAAaR,OAAO,CAACQ,GAAzB;AAAA,OAAhC,CAAjB;;AAEA,UAAIL,UAAJ,EAAgB;AACd;AACA;AACAJ,QAAAA,OAAO,CAACU,MAAR,CAAeb,WAAf,EAA4BO,UAA5B;AACAD,QAAAA,OAAO,CAAC,UAAD,CAAP;AACD,OALD,MAKO;AACLF,QAAAA,OAAO,CAACU,KAAR,GAAgB,CAAhB,CADK,CAEL;;AACAX,QAAAA,OAAO,CAACU,MAAR,CAAeZ,WAAf,EAA4BG,OAA5B;AACAE,QAAAA,OAAO,CAAC,SAAD,CAAP;AACD;AACF,KAxBM,CAAP;AAyBD;AA3BY,CAAf","sourcesContent":["import {ADD_COUNTER, ADD_TO_CART} from './mutationTypes'\r\n\r\nexport default {\r\n  addCart (context, payload) {\r\n    return new Promise(resolve => {\r\n    /* let oldProduct = null \r\n      方法一：\r\n      for (let item of state.cartList) {\r\n        if (item.iid === payload.iid) {\r\n          oldProduct = item\r\n        }\r\n      }\r\n      方法二：\r\n      let index = state.cartList.indexOf(payload)\r\n      方法三：*/\r\n      let oldProduct = context.state.cartList.find(item => item.iid === payload.iid)\r\n\r\n      if (oldProduct) {\r\n        //方法二\r\n        // let oldProduct = state.cartList[index]\r\n        context.commit(ADD_COUNTER, oldProduct)\r\n        resolve('添加商品数量+1')\r\n      } else {\r\n        payload.count = 1\r\n        // state.cartList.push(paload)\r\n        context.commit(ADD_TO_CART, payload)\r\n        resolve('添加了新的商品')\r\n      }\r\n    })\r\n  }\r\n}"]}]}