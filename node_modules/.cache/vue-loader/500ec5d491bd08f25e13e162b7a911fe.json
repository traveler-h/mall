{"remainingRequest":"C:\\Users\\hulina\\Desktop\\vue\\supermall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hulina\\Desktop\\vue\\supermall\\src\\views\\detail\\Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\hulina\\Desktop\\vue\\supermall\\src\\views\\detail\\Detail.vue","mtime":1579421105795},{"path":"C:\\Users\\hulina\\Desktop\\vue\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hulina\\Desktop\\vue\\supermall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\hulina\\Desktop\\vue\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hulina\\Desktop\\vue\\supermall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRGV0YWlsTmF2QmFyIGZyb20gJy4vY2hpbGRDb21wcy9EZXRhaWxOYXZCYXInDQppbXBvcnQgRGV0YWlsU3dpcGVyIGZyb20gJy4vY2hpbGRDb21wcy9EZXRhaWxTd2lwZXInDQppbXBvcnQgRGV0YWlsQmFzZUluZm8gZnJvbSAnLi9jaGlsZENvbXBzL0RldGFpbEJhc2VJbmZvJw0KaW1wb3J0IERldGFpbFNob3BJbmZvIGZyb20gJy4vY2hpbGRDb21wcy9EZXRhaWxTaG9wSW5mbycNCmltcG9ydCBEZXRhaWxHb29kc0luZm8gZnJvbSAnLi9jaGlsZENvbXBzL0RldGFpbEdvb2RzSW5mbycNCmltcG9ydCBEZXRhaWxQYXJhbXNJbmZvIGZyb20gJy4vY2hpbGRDb21wcy9EZXRhaWxQYXJhbXNJbmZvJw0KaW1wb3J0IERldGFpbENvbW1lbnRJbmZvIGZyb20gJy4vY2hpbGRDb21wcy9EZXRhaWxDb21tZW50SW5mbycNCmltcG9ydCBEZXRhaWxCb3R0b21CYXIgZnJvbSAnLi9jaGlsZENvbXBzL0RldGFpbEJvdHRvbUJhcicNCg0KaW1wb3J0IFNjcm9sbCBmcm9tICdjb21wb25lbnRzL2NvbW1vbi9zY3JvbGwvU2Nyb2xsJw0KaW1wb3J0IEdvb2RzTGlzdCBmcm9tICdjb21wb25lbnRzL2NvbnRlbnQvZ29vZHMvR29vZHNMaXN0Jw0KLy8gaW1wb3J0IFRvYXN0IGZyb20gJ2NvbXBvbmVudHMvY29tbW9uL3RvYXN0L1RvYXN0Jw0KDQppbXBvcnQge2dldERldGFpbCwgZ2V0UmVjb21tZW5kLCBHb29kcywgU2hvcH0gZnJvbSAnbmV0d29yay9kZXRhaWwnDQppbXBvcnQge2l0ZW1MaXN0ZW5lck1peGluLCBiYWNrVG9wTWl4aW59IGZyb20gJ2NvbW1vbi9taXhpbicNCmltcG9ydCB7ZGVib3VuY2V9IGZyb20gJ2NvbW1vbi91dGlscycNCg0KaW1wb3J0IHttYXBBY3Rpb25zfSBmcm9tICd2dWV4Jw0KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0RldGFpbCcsDQogIGNvbXBvbmVudHM6IHsNCiAgICBEZXRhaWxOYXZCYXIsDQogICAgRGV0YWlsU3dpcGVyLA0KICAgIERldGFpbEJhc2VJbmZvLA0KICAgIERldGFpbFNob3BJbmZvLA0KICAgIERldGFpbEdvb2RzSW5mbywNCiAgICBEZXRhaWxQYXJhbXNJbmZvLA0KICAgIERldGFpbENvbW1lbnRJbmZvLA0KICAgIERldGFpbEJvdHRvbUJhciwNCiAgICBTY3JvbGwsDQogICAgR29vZHNMaXN0DQogICAgLy8gVG9hc3QNCiAgfSwNCiAgbWl4aW5zOiBbaXRlbUxpc3RlbmVyTWl4aW4sIGJhY2tUb3BNaXhpbl0sDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBpaWQ6IG51bGwsDQogICAgICB0b3BJbWFnZXM6IFtdLA0KICAgICAgZ29vZHM6IHt9LA0KICAgICAgc2hvcDoge30sDQogICAgICBkZXRhaWxJbmZvOiB7fSwNCiAgICAgIGl0ZW1QYXJhbXM6IHt9LA0KICAgICAgY29tbWVudDoge30sDQogICAgICByZWNvbW1lbmRzOiBbXSwNCiAgICAgIHRoZW1lVG9wWXM6W10sDQogICAgICBnZXRUaGVtZVRvcFk6IG51bGwsDQogICAgICBjdXJyZW50SW5kZXg6IDANCiAgICAgIC8vIG1lc3NhZ2U6ICcnLA0KICAgICAgLy8gc2hvdzpmYWxzZQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCAoKSB7DQogICAgdGhpcy5paWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWlkDQoNCiAgICBnZXREZXRhaWwodGhpcy5paWQpLnRoZW4ocmVzID0+IHsNCiAgICAgIGNvbnN0IGRhdGEgPSByZXMucmVzdWx0DQogICAgICB0aGlzLnRvcEltYWdlcyA9IGRhdGEuaXRlbUluZm8udG9wSW1hZ2VzDQoNCiAgICAgIC8vIOiOt+WPluWVhuWTgeS/oeaBrw0KICAgICAgdGhpcy5nb29kcyA9IG5ldyBHb29kcyhkYXRhLml0ZW1JbmZvLCBkYXRhLmNvbHVtbnMsIGRhdGEuc2hvcEluZm8uc2VydmljZXMpDQoNCiAgICAgIC8v6I635Y+W5ZWG5a625L+h5oGvDQogICAgICB0aGlzLnNob3AgPSBuZXcgU2hvcChkYXRhLnNob3BJbmZvKQ0KDQogICAgICAvL+iOt+WPluivpuaDheS/oeaBrw0KICAgICAgdGhpcy5kZXRhaWxJbmZvID0gZGF0YS5kZXRhaWxJbmZvDQoNCiAgICAgIC8v5Y+W5Ye65Y+C5pWw5L+h5oGvDQogICAgICB0aGlzLml0ZW1QYXJhbXMgPSBkYXRhLml0ZW1QYXJhbXMNCg0KICAgICAgLy/lj5blh7ror4Torrrkv6Hmga8NCiAgICAgIGlmIChkYXRhLnJhdGUuY1JhdGUgIT09IDApIHsNCiAgICAgICAgdGhpcy5jb21tZW50ID0gZGF0YS5yYXRlLmxpc3RbMF0NCiAgICAgICAgDQogICAgICAgIC8qdGhpcy50aGVtZVRvcFlzID0gW10NCiAgICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goMCkNCiAgICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goLXRoaXMuJHJlZnMucGFyYW1zLiRlbC5vZmZzZXRUb3ApDQogICAgICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKC10aGlzLiRyZWZzLmNvbW1lbnQuJGVsLm9mZnNldFRvcCkNCiAgICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goLXRoaXMuJHJlZnMucmVjb21tZW5kLiRlbC5vZmZzZXRUb3ApDQoNCiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMudGhlbWVUb3BZcykqLw0KICAgICAgfQ0KDQogICAgIC8qIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgLy/moLnmja7mnIDmlrDnmoTmlbDmja7vvIzlr7nlupTnmoRET03lt7Lnu4/ooqvmuLLmn5Plh7rmnaXvvIzkvYbmmK/lm77niYfkvp3nhLbmsqHmnInliqDovb3lrowNCiAgICAgICAgLy9vZmZzZXRUb3DlgLzkuI3lr7nkuIDoiKzml7blm6DkuLrlm77niYfmsqHmnInliqDovb3lrowNCiAgICAgICAgdGhpcy50aGVtZVRvcFlzID0gW10NCiAgICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goMCkNCiAgICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goLXRoaXMuJHJlZnMucGFyYW1zLiRlbC5vZmZzZXRUb3ApDQogICAgICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKC10aGlzLiRyZWZzLmNvbW1lbnQuJGVsLm9mZnNldFRvcCkNCiAgICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goLXRoaXMuJHJlZnMucmVjb21tZW5kLiRlbC5vZmZzZXRUb3ApDQoNCiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMudGhlbWVUb3BZcykNCiAgICAgIH0pDQogICAgICAqLw0KICAgIH0pDQoNCiAgICBnZXRSZWNvbW1lbmQoKS50aGVuKHJlcyA9PiB7DQogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2cocmVzKQ0KICAgICAgdGhpcy5yZWNvbW1lbmRzID0gcmVzLmRhdGEubGlzdA0KICAgIH0pDQoNCiAgICAvL+e7mWdldFRoZW1lVG9wWei1i+WAvA0KICAgIHRoaXMuZ2V0VGhlbWVUb3BZID0gZGVib3VuY2UoKCkgPT4gew0KICAgICAgdGhpcy50aGVtZVRvcFlzID0gW10NCiAgICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKDApDQogICAgICB0aGlzLnRoZW1lVG9wWXMucHVzaCgtdGhpcy4kcmVmcy5wYXJhbXMuJGVsLm9mZnNldFRvcCkNCiAgICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKC10aGlzLiRyZWZzLmNvbW1lbnQuJGVsLm9mZnNldFRvcCkNCiAgICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKC10aGlzLiRyZWZzLnJlY29tbWVuZC4kZWwub2Zmc2V0VG9wKQ0KICAgICAgLy8gdGhpcy50aGVtZVRvcFlzLnB1c2goTnVtYmVyLk1BWF9WQUxVRSnmlrnmoYjkuowNCg0KICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMudGhlbWVUb3BZcykNCiAgICB9LDUwMCkNCg0KICB9LA0KICBtb3VudGVkICgpIHsNCiAgfSwNCiAgLyp1cGRhdGVkICgpIHsNCiAgICB0aGlzLnRoZW1lVG9wWXMgPSBbXQ0KDQogICAgdGhpcy50aGVtZVRvcFlzLnB1c2goMCkNCiAgICB0aGlzLnRoZW1lVG9wWXMucHVzaCh0aGlzLiRyZWZzLnBhcmFtcy4kZWwub2Zmc2V0VG9wKQ0KICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKHRoaXMuJHJlZnMuY29tbWVudC4kZWwub2Zmc2V0VG9wKQ0KICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKHRoaXMuJHJlZnMucmVjb21tZW5kLiRlbC5vZmZzZXRUb3ApDQoNCiAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy50aGVtZVRvcFlzKQ0KICB9LCovDQogIGRlc3Ryb3llZCAoKSB7DQogICAgdGhpcy4kYnVzLiRvZmYoJ2l0ZW1JbWdMb2FkJywgdGhpcy5pdGVtSW1nTGlzdGVuZXIpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKFsnYWRkQ2FydCddKSwNCiAgICBkZXRhaWxJbWdMb2FkICgpIHsNCiAgICAgIHRoaXMucmVmcmVzaCgpDQogICAgICB0aGlzLmdldFRoZW1lVG9wWSgpDQogICAgfSwNCiAgICBpdGVtQ2xpY2sgKGluZGV4KSB7DQogICAgICB0aGlzLiRyZWZzLnNjcm9sbC5zY3JvbGxUbygwLCB0aGlzLnRoZW1lVG9wWXNbaW5kZXhdLCAyMDApDQogICAgICB3aW5kb3cuY29uc29sZS5sb2coaW5kZXgpDQogICAgfSwNCiAgICBjb250ZW50U2Nyb2xsIChwb3NpdGlvbikgew0KICAgICAgLy8xLuiOt+WPlnnlgLwNCiAgICAgIGNvbnN0IHBvc2l0aW9uWSA9IC1wb3NpdGlvbi55DQogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2cocG9zaXRpb24ueSkNCiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyhwb3NpdGlvblkpICsNCiAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnRoZW1lVG9wWXMpIC0NCiAgICAgIC8vIDIucG9zaXRpb25Z5ZKM5Li76aKY5Lit5YC86L+b6KGM5a+55q+UDQogICAgICAvLyBmb3IobGV0IGkgaW4gdGhpcy50aGVtZVRvcFlzKXsNCiAgICAgIGxldCBsZW5ndGggPSB0aGlzLnRoZW1lVG9wWXMubGVuZ3RoDQogICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGVuZ3RoIC0gMTsgaSsrKXsNCiAgICAgICAgaWYodGhpcy5jdXJyZW50SW5kZXggIT09IGkgJiYgKChpIDwgbGVuZ3RoIC0gMSAmJiBwb3NpdGlvblkgPiAtdGhpcy50aGVtZVRvcFlzW2ldICYmIHBvc2l0aW9uWSA8IC10aGlzLnRoZW1lVG9wWXNbaSArIDFdKSB8fCAoaSA9PT0gbGVuZ3RoIC0xICYmIHBvc2l0aW9uWSA+IC10aGlzLnRoZW1lVG9wWXNbaV0pKSl7DQogICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpDQogICAgICAgICAgdGhpcy4kcmVmcy5uYXYuY3VycmVudEluZGV4ID0gdGhpcy5jdXJyZW50SW5kZXgNCiAgICAgICAgfQ0KICAgICAgICAvL+aWueahiOS6jCDvvIjmjqjojZDkuI3ogZTliqjvvIkNCiAgICAgICAgLy8gaWYodGhpcy5jdXJyZW50SW5kZXggIT09IGkgJiYgKHBvc2l0aW9uWSA+PSAtdGhpcy50aGVtZVRvcFlzW2ldICYmIHBvc2l0aW9uWSA8IC10aGlzLnRoZW1lVG9wWXNbaSArIDFdKSkgew0KICAgICAgICAvLyAgIHRoaXMuY3VycmVudEluZGV4ID0gaQ0KICAgICAgICAvLyAgIHRoaXMuJHJlZnMubmF2LmN1cnJlbnRJbmRleCA9IHRoaXMuY3VycmVudEluZGV4DQogICAgICAgIC8vIH0NCiAgICAgIH0NCiAgICAgIHRoaXMuTGlzdGVuU2hvd0JhY2tUb3AocG9zaXRpb24pDQogICAgfSwNCiAgICBhZGRUb0NhcnQgKCkgew0KICAgICAgLy8xLuiOt+WPlui0reeJqei9puWxleekuueahOS/oeaBrw0KICAgICAgY29uc3QgcHJvZHVjdCA9IHt9DQogICAgICBwcm9kdWN0LmltYWdlID0gdGhpcy50b3BJbWFnZXNbMF0NCiAgICAgIHByb2R1Y3QudGl0bGUgPSB0aGlzLmdvb2RzLnRpdGxlDQogICAgICBwcm9kdWN0LmRlc2MgPSB0aGlzLmdvb2RzLmRlc2MNCiAgICAgIHByb2R1Y3QucHJpY2UgPSB0aGlzLmdvb2RzLnJlYWxQcmljZQ0KICAgICAgcHJvZHVjdC5paWQgPSB0aGlzLmlpZA0KDQogICAgICAvLzIu5bCG5ZWG5ZOB5Yqg5YWl5Yiw6LSt54mp6L2mDQogICAgICAvLzMu5re75Yqg5Yiw6LSt54mp6L2m5oiQ5YqfDQogICAgICB0aGlzLmFkZENhcnQocHJvZHVjdCkudGhlbihyZXMgPT4gew0KICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2cocmVzKQ0KICAgICAgICAvLyB0aGlzLnNob3cgPSB0cnVlDQogICAgICAgIC8vIHRoaXMubWVzc2FnZSA9IHJlcw0KICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgLy8gICB0aGlzLnNob3cgPSBmYWxzZQ0KICAgICAgICAvLyAgIHRoaXMubWVzc2FnZSA9ICcnDQogICAgICAgIC8vIH0sIDE1MDApDQogICAgICAgIHRoaXMuJHRvYXN0LnNob3cocmVzKQ0KICAgICAgfSkNCiAgICAgIC8vIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhZGRDYXJ0JywgcHJvZHVjdCkudGhlbihyZXMgPT4gew0KICAgICAgLy8gICB3aW5kb3cuY29uc29sZS5sb2cocmVzKQ0KICAgICAgLy8gfSkNCg0KICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLmNhcnRMaXN0KQ0KDQogICAgICANCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/detail","sourcesContent":["<template>\r\n  <div id=\"detail\">\r\n    <detail-nav-bar @itemClick=\"itemClick\" ref=\"nav\"/>\r\n    <scroll class=\"content\" \r\n            ref=\"scroll\" \r\n            :probe-type=\"3\"\r\n            @scroll=\"contentScroll\" >\r\n      <div>\r\n        <!-- <ul>\r\n          <li v-for=\"item in $store.state.cartList\" :key=\"item.value\">{{item}}</li>\r\n        </ul> -->\r\n        <detail-swiper :topImages=\"topImages\"></detail-swiper>\r\n        <detail-base-info :goods=\"goods\"/>\r\n        <detail-shop-info :shop=\"shop\" />\r\n        <detail-goods-info :detail-info=\"detailInfo\" @detailImgLoad=\"detailImgLoad\"/>\r\n        <detail-params-info ref=\"params\" :item-params=\"itemParams\" />\r\n        <detail-comment-info ref=\"comment\" :comment=\"comment\" />\r\n        <goods-list ref=\"recommend\" :goods=\"recommends\"/>\r\n      </div>\r\n    </scroll>\r\n    <detail-bottom-bar @addCart=\"addToCart\" />\r\n    <back-top @click.native=\"backClick\" \r\n          v-show=\"isShowBackTop\"></back-top>\r\n    <!-- <toast :message=\"message\" :show=\"show\"></toast> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DetailNavBar from './childComps/DetailNavBar'\r\nimport DetailSwiper from './childComps/DetailSwiper'\r\nimport DetailBaseInfo from './childComps/DetailBaseInfo'\r\nimport DetailShopInfo from './childComps/DetailShopInfo'\r\nimport DetailGoodsInfo from './childComps/DetailGoodsInfo'\r\nimport DetailParamsInfo from './childComps/DetailParamsInfo'\r\nimport DetailCommentInfo from './childComps/DetailCommentInfo'\r\nimport DetailBottomBar from './childComps/DetailBottomBar'\r\n\r\nimport Scroll from 'components/common/scroll/Scroll'\r\nimport GoodsList from 'components/content/goods/GoodsList'\r\n// import Toast from 'components/common/toast/Toast'\r\n\r\nimport {getDetail, getRecommend, Goods, Shop} from 'network/detail'\r\nimport {itemListenerMixin, backTopMixin} from 'common/mixin'\r\nimport {debounce} from 'common/utils'\r\n\r\nimport {mapActions} from 'vuex'\r\n\r\n\r\nexport default {\r\n  name: 'Detail',\r\n  components: {\r\n    DetailNavBar,\r\n    DetailSwiper,\r\n    DetailBaseInfo,\r\n    DetailShopInfo,\r\n    DetailGoodsInfo,\r\n    DetailParamsInfo,\r\n    DetailCommentInfo,\r\n    DetailBottomBar,\r\n    Scroll,\r\n    GoodsList\r\n    // Toast\r\n  },\r\n  mixins: [itemListenerMixin, backTopMixin],\r\n  data () {\r\n    return {\r\n      iid: null,\r\n      topImages: [],\r\n      goods: {},\r\n      shop: {},\r\n      detailInfo: {},\r\n      itemParams: {},\r\n      comment: {},\r\n      recommends: [],\r\n      themeTopYs:[],\r\n      getThemeTopY: null,\r\n      currentIndex: 0\r\n      // message: '',\r\n      // show:false\r\n    }\r\n  },\r\n  created () {\r\n    this.iid = this.$route.params.iid\r\n\r\n    getDetail(this.iid).then(res => {\r\n      const data = res.result\r\n      this.topImages = data.itemInfo.topImages\r\n\r\n      // 获取商品信息\r\n      this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services)\r\n\r\n      //获取商家信息\r\n      this.shop = new Shop(data.shopInfo)\r\n\r\n      //获取详情信息\r\n      this.detailInfo = data.detailInfo\r\n\r\n      //取出参数信息\r\n      this.itemParams = data.itemParams\r\n\r\n      //取出评论信息\r\n      if (data.rate.cRate !== 0) {\r\n        this.comment = data.rate.list[0]\r\n        \r\n        /*this.themeTopYs = []\r\n        this.themeTopYs.push(0)\r\n        this.themeTopYs.push(-this.$refs.params.$el.offsetTop)\r\n        this.themeTopYs.push(-this.$refs.comment.$el.offsetTop)\r\n        this.themeTopYs.push(-this.$refs.recommend.$el.offsetTop)\r\n\r\n        window.console.log(this.themeTopYs)*/\r\n      }\r\n\r\n     /* this.$nextTick(() => {\r\n        //根据最新的数据，对应的DOM已经被渲染出来，但是图片依然没有加载完\r\n        //offsetTop值不对一般时因为图片没有加载完\r\n        this.themeTopYs = []\r\n        this.themeTopYs.push(0)\r\n        this.themeTopYs.push(-this.$refs.params.$el.offsetTop)\r\n        this.themeTopYs.push(-this.$refs.comment.$el.offsetTop)\r\n        this.themeTopYs.push(-this.$refs.recommend.$el.offsetTop)\r\n\r\n        window.console.log(this.themeTopYs)\r\n      })\r\n      */\r\n    })\r\n\r\n    getRecommend().then(res => {\r\n      // window.console.log(res)\r\n      this.recommends = res.data.list\r\n    })\r\n\r\n    //给getThemeTopY赋值\r\n    this.getThemeTopY = debounce(() => {\r\n      this.themeTopYs = []\r\n      this.themeTopYs.push(0)\r\n      this.themeTopYs.push(-this.$refs.params.$el.offsetTop)\r\n      this.themeTopYs.push(-this.$refs.comment.$el.offsetTop)\r\n      this.themeTopYs.push(-this.$refs.recommend.$el.offsetTop)\r\n      // this.themeTopYs.push(Number.MAX_VALUE)方案二\r\n\r\n      window.console.log(this.themeTopYs)\r\n    },500)\r\n\r\n  },\r\n  mounted () {\r\n  },\r\n  /*updated () {\r\n    this.themeTopYs = []\r\n\r\n    this.themeTopYs.push(0)\r\n    this.themeTopYs.push(this.$refs.params.$el.offsetTop)\r\n    this.themeTopYs.push(this.$refs.comment.$el.offsetTop)\r\n    this.themeTopYs.push(this.$refs.recommend.$el.offsetTop)\r\n\r\n    window.console.log(this.themeTopYs)\r\n  },*/\r\n  destroyed () {\r\n    this.$bus.$off('itemImgLoad', this.itemImgListener)\r\n  },\r\n  methods: {\r\n    ...mapActions(['addCart']),\r\n    detailImgLoad () {\r\n      this.refresh()\r\n      this.getThemeTopY()\r\n    },\r\n    itemClick (index) {\r\n      this.$refs.scroll.scrollTo(0, this.themeTopYs[index], 200)\r\n      window.console.log(index)\r\n    },\r\n    contentScroll (position) {\r\n      //1.获取y值\r\n      const positionY = -position.y\r\n      // window.console.log(position.y)\r\n      // window.console.log(positionY) +\r\n      // window.console.log(this.themeTopYs) -\r\n      // 2.positionY和主题中值进行对比\r\n      // for(let i in this.themeTopYs){\r\n      let length = this.themeTopYs.length\r\n      for(let i = 0; i < length - 1; i++){\r\n        if(this.currentIndex !== i && ((i < length - 1 && positionY > -this.themeTopYs[i] && positionY < -this.themeTopYs[i + 1]) || (i === length -1 && positionY > -this.themeTopYs[i]))){\r\n          this.currentIndex = i\r\n          this.$refs.nav.currentIndex = this.currentIndex\r\n        }\r\n        //方案二 （推荐不联动）\r\n        // if(this.currentIndex !== i && (positionY >= -this.themeTopYs[i] && positionY < -this.themeTopYs[i + 1])) {\r\n        //   this.currentIndex = i\r\n        //   this.$refs.nav.currentIndex = this.currentIndex\r\n        // }\r\n      }\r\n      this.ListenShowBackTop(position)\r\n    },\r\n    addToCart () {\r\n      //1.获取购物车展示的信息\r\n      const product = {}\r\n      product.image = this.topImages[0]\r\n      product.title = this.goods.title\r\n      product.desc = this.goods.desc\r\n      product.price = this.goods.realPrice\r\n      product.iid = this.iid\r\n\r\n      //2.将商品加入到购物车\r\n      //3.添加到购物车成功\r\n      this.addCart(product).then(res => {\r\n        // window.console.log(res)\r\n        // this.show = true\r\n        // this.message = res\r\n        // setTimeout(() => {\r\n        //   this.show = false\r\n        //   this.message = ''\r\n        // }, 1500)\r\n        this.$toast.show(res)\r\n      })\r\n      // this.$store.dispatch('addCart', product).then(res => {\r\n      //   window.console.log(res)\r\n      // })\r\n\r\n      // window.console.log(this.$store.state.cartList)\r\n\r\n      \r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  #detail {\r\n    height: 100vh;\r\n    position: relative;\r\n    z-index: 1;\r\n    background-color: #fff;\r\n  }\r\n\r\n  .content {\r\n    /* position: absolute;\r\n    top: 44px;\r\n    bottom: 49px; */\r\n    overflow: hidden;\r\n    height: calc(100% - 44px - 49px);\r\n  }\r\n\r\n  .back-top {\r\n    position: fixed;\r\n    right: 10px;\r\n    bottom: 65px;\r\n  }\r\n</style>"]}]}